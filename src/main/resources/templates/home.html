<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/client_layout}">
<head>
    <title>Trang Chủ</title>
</head>
<body>

<section layout:fragment="content">
    <!-- Phần Banner Chào Mừng -->
    <div class="container-fluid bg-light p-5 text-center mb-5">
        <h1 class="display-4 fw-bold">Khám Phá Thế Giới Sách Công Nghệ</h1>
        <p class="fs-4 text-secondary">Nâng cao kỹ năng, cập nhật kiến thức với bộ sưu tập sách dành riêng cho lập trình viên.</p>
        <a class="btn btn-primary btn-lg mt-3" th:href="@{/products}" role="button">
            <i class="fas fa-search me-2"></i> Xem tất cả sản phẩm
        </a>
    </div>

    <div class="container">
        <!-- TIÊU ĐỀ PHẦN SẢN PHẨM NỔI BẬT -->
        <div class="text-center mb-5">
            <h2 class="fw-bold display-5">Sản Phẩm Nổi Bật</h2>
            <p class="text-muted">Những cuốn sách được cộng đồng lập trình viên yêu thích nhất</p>
        </div>

        <!-- DANH SÁCH SẢN PHẨM ĐÃ ÁP DỤNG STYLE MỚI -->
        <div class="row row-cols-1 row-cols-sm-2 row-cols-lg-4 g-4">
            <!-- Vòng lặp th:each -->
            <div class="col" th:each="product : ${products}">
                <!-- Cấu trúc Product Card đã được đồng bộ hóa hoàn toàn -->
                <div class="product-card">
                    <a th:href="@{/products/{id}(id=${product.id})}" class="product-card__image-link">
                        <img th:src="@{${product.getPhotosImagePath()}}" class="product-card__image" alt="Ảnh sản phẩm">
                    </a>
                    <div class="product-card__body">
                        <div class="product-card__info">
                            <a th:href="@{/products/{id}(id=${product.id})}" class="product-card__name-link">
                                <h3 class="product-card__name" th:text="${product.name}">Tên sản phẩm</h3>
                            </a>
                            <p class="product-card__price" th:text="${#numbers.formatDecimal(product.price, 0, 'POINT', 0, 'COMMA')} + ' ₫'">99.000 ₫</p>
                        </div>
                        <div class="product-card__actions">
                            <form th:action="@{/cart/add}" method="post">
                                <input type="hidden" name="productId" th:value="${product.id}" />
                                <input type="hidden" name="quantity" value="1" />
                                <button type="submit" class="btn btn-primary w-100">
                                    <i class="fas fa-cart-plus me-2"></i>Thêm vào giỏ
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

</body>
</html>